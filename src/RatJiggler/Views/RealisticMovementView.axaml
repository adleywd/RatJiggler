<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:RatJiggler.ViewModels"
             x:Class="RatJiggler.Views.RealisticMovementView"
             x:DataType="vm:RealisticMovementViewModel">

    <Grid Margin="10">
        <ScrollViewer VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled">
            <StackPanel Spacing="15">
                <!-- Speed Settings -->
                <StackPanel Spacing="10">
                    <TextBlock Text="Movement Speed"
                               FontSize="16"
                               FontWeight="Bold"
                               Foreground="MediumPurple" />

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <Label Content="ⓘ Minimum speed (1-10):"
                               Grid.Column="0" Margin="5" VerticalAlignment="Center"
                               ToolTip.Tip="Slowest possible movement speed" />
                        <NumericUpDown Value="{Binding MinSpeed}" Maximum="10" Minimum="1" Width="120"
                                       Grid.Column="1" Margin="5" VerticalAlignment="Center" />

                        <Label Content="ⓘ Maximum speed (1-10):"
                               Grid.Column="2" Margin="5" VerticalAlignment="Center"
                               ToolTip.Tip="Fastest possible movement speed" />
                        <NumericUpDown Value="{Binding MaxSpeed}" Maximum="10" Minimum="1" Width="120"
                                       Grid.Column="3" Margin="5" VerticalAlignment="Center" />
                    </Grid>
                </StackPanel>

                <!-- Pause Settings -->
                <StackPanel Spacing="10">
                    <TextBlock Text="Pause Settings"
                               FontSize="16"
                               FontWeight="Bold"
                               Foreground="MediumPurple" />

                    <CheckBox IsChecked="{Binding EnableStepPauses}"
                              Content="ⓘ Pause between movements"
                              Margin="5" HorizontalAlignment="Left"
                              ToolTip.Tip="Add short pauses after each mouse movement" />

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <Label Content="ⓘ Shortest pause (ms):"
                               Grid.Column="0" Margin="5" VerticalAlignment="Center"
                               ToolTip.Tip="Minimum time between movements (in milliseconds)" />
                        <NumericUpDown Value="{Binding StepPauseMin}" Minimum="0" Width="120"
                                       Grid.Column="1" Margin="5" VerticalAlignment="Center" />

                        <Label Content="ⓘ Longest pause (ms):"
                               Grid.Column="2" Margin="5" VerticalAlignment="Center"
                               ToolTip.Tip="Maximum time between movements (in milliseconds)" />
                        <NumericUpDown Value="{Binding StepPauseMax}" Minimum="0" Width="120"
                                       Grid.Column="3" Margin="5" VerticalAlignment="Center" />
                    </Grid>

                    <CheckBox IsChecked="{Binding EnableRandomPauses}"
                              Content="ⓘ Add random pauses"
                              Margin="5" HorizontalAlignment="Left"
                              ToolTip.Tip="Occasionally insert longer pauses to mimic human behavior" />

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <Label Content="ⓘ Shortest random pause (ms):"
                               Grid.Row="0" Grid.Column="2" Margin="5" VerticalAlignment="Center"
                               ToolTip.Tip="Minimum duration for random pauses" />
                        <NumericUpDown Value="{Binding RandomPauseMin}" Minimum="0" Width="120"
                                       Grid.Row="0" Grid.Column="3" Margin="5" VerticalAlignment="Center" />

                        <Label Content="ⓘ Longest random pause (ms):"
                               Grid.Row="0" Grid.Column="0" Margin="5" VerticalAlignment="Center"
                               ToolTip.Tip="Maximum duration for random pauses" />
                        <NumericUpDown Value="{Binding RandomPauseMax}" Minimum="0" Width="120"
                                       Grid.Row="0" Grid.Column="1" Margin="5" VerticalAlignment="Center" />
                        
                        <Label Content="ⓘ Chance of random pause (%):"
                               Grid.Row="1" Grid.Column="0" Margin="5" VerticalAlignment="Center"
                               ToolTip.Tip="How likely a random pause will occur (0-100%)" />
                        <NumericUpDown Value="{Binding RandomPauseProbability}" Maximum="100" Minimum="0" Width="120"
                                       Grid.Row="1" Grid.Column="1" Margin="5" VerticalAlignment="Center" />
                    </Grid>
                </StackPanel>

                <!-- Advanced Settings -->
                <StackPanel Spacing="10">
                    <TextBlock Text="Advanced Settings"
                               FontSize="16"
                               FontWeight="Bold"
                               Foreground="MediumPurple" />

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <CheckBox IsChecked="{Binding EnableUserInterventionDetection}"
                                  Content="ⓘ Stop when mouse is moved manually"
                                  Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Margin="5"
                                  VerticalAlignment="Center"
                                  ToolTip.Tip="Automatically stops when you move the mouse yourself" />

                        <Label Content="ⓘ Manual movement sensitivity (pixels):"
                               Grid.Row="0" Grid.Column="2" Margin="5" VerticalAlignment="Center"
                               ToolTip.Tip="How far you need to move the mouse to stop automation" />
                        <NumericUpDown Value="{Binding MovementThresholdInPixels}" Minimum="0" Width="120"
                                       Grid.Row="0" Grid.Column="3" Margin="5" VerticalAlignment="Center" />

                        <Label Content="ⓘ Randomness seed (optional):"
                               Grid.Row="1" Grid.Column="0" Margin="5" VerticalAlignment="Center"
                               ToolTip.Tip="Set a fixed number for predictable random patterns" />
                        <NumericUpDown Value="{Binding RandomSeed}" Minimum="0" Width="120"
                                       Grid.Row="1" Grid.Column="1" Margin="5" VerticalAlignment="Center" />
                    </Grid>
                </StackPanel>

                <!-- Settings Buttons -->
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center"
                            Spacing="10"
                            Margin="0,20,0,0">
                    <Button Command="{Binding SaveSettingsCommand}"
                            Content="Save Settings"
                            Width="120" />
                    <Button Command="{Binding RestoreDefaultsCommand}"
                            Content="Reset to Defaults"
                            Width="120" />
                </StackPanel>

                <!-- Control Buttons -->
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center"
                            Spacing="10"
                            Margin="0,20,0,0">
                    <Button Width="200" Command="{Binding StartMovementCommand}">
                        <Button.Content>
                            <TextBlock TextAlignment="Center">
                                <Run Text="Start Moving Mouse" />
                                <LineBreak />
                                <Run Text="(Press Ctrl + R)" />
                            </TextBlock>
                        </Button.Content>
                    </Button>
                    <Button Width="200" Command="{Binding StopMovementCommand}">
                        <Button.Content>
                            <TextBlock TextAlignment="Center">
                                <Run Text="Stop Mouse Movement" />
                                <LineBreak />
                                <Run Text="(Press Ctrl + C)" />
                            </TextBlock>
                        </Button.Content>
                    </Button>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>